<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kenangan Kelas XII IPA 1 - SMA Negeri 1 Grati</title>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.9.1/firebase-database-compat.js"></script>
    <script type="module" src="firebase-config.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: linear-gradient(135deg, #101820 0%, #1a2a3a 100%);
            color: #fff;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px 10%;
            background: rgba(16, 24, 32, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 231, 21, 0.2);
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-img {
            width: 40px;
            height: 40px;
            object-fit: contain;
        }

        .logo {
            font-size: 22px;
            color: #FEE715;
            font-weight: 600;
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        .navbar {
            display: flex;
        }

        .navbar a {
            font-size: 16px;
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            margin-left: 25px;
            transition: all 0.3s;
            padding: 5px 0;
            position: relative;
        }

        .navbar a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: #FEE715;
            transition: width 0.3s;
        }

        .navbar a:hover::after {
            width: 100%;
        }

        .navbar a:hover {
            color: #FEE715;
        }

        /* Main Content */
        .section {
            padding: 120px 10% 50px;
            min-height: 100vh;
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title h1 {
            font-size: 2.5rem;
            color: #FEE715;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        .section-title h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: #5b15fe;
            border-radius: 3px;
        }

        .section-title p {
            color: #aaa;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Filter Buttons */
        .filter-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 40px;
        }

        .filter-btn {
            padding: 8px 20px;
            background: transparent;
            border: 2px solid #5b15fe;
            color: #fff;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 14px;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: #5b15fe;
            color: #fff;
            box-shadow: 0 0 15px rgba(91, 21, 254, 0.5);
        }

        /* Gallery Section */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }

        .memory-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            position: relative;
            opacity: 0;
            transform: translateY(20px);
        }

        .memory-card.show {
            opacity: 1;
            transform: translateY(0);
        }

        .memory-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .memory-img-container {
            width: 100%;
            height: 250px;
            overflow: hidden;
            position: relative;
        }

        .memory-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
            cursor: pointer;
        }

        .memory-card:hover .memory-img {
            transform: scale(1.1);
        }

        .memory-caption {
            padding: 20px;
            background: rgba(16, 24, 32, 0.8);
        }

        .memory-caption h3 {
            color: #FEE715;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .memory-caption p {
            color: #aaa;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Upload Section */
        .upload-section {
            background: rgba(16, 24, 32, 0.7);
            padding: 60px 10%;
            border-radius: 15px;
            margin: 50px 0;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .upload-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .upload-form {
            display: grid;
            gap: 20px;
        }

        .form-group {
            display: grid;
            gap: 8px;
        }

        .form-group label {
            color: #FEE715;
            font-weight: 500;
        }

        .form-control {
            padding: 12px 15px;
            border-radius: 8px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 14px;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(91, 21, 254, 0.5);
            background: rgba(255, 255, 255, 0.15);
        }

        select.form-control {
            appearance: none;
            -webkit-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FEE715'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 15px;
            padding-right: 40px;
            cursor: pointer;
        }

        textarea.form-control {
            resize: vertical;
            min-height: 120px;
        }

        .file-input-container {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }

        .file-input-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 30px;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .file-input-label:hover {
            border-color: #FEE715;
            background: rgba(254, 231, 21, 0.05);
        }

        .file-input-label i {
            font-size: 40px;
            color: #FEE715;
            margin-bottom: 10px;
        }

        .file-input-label span {
            color: #aaa;
            font-size: 14px;
        }

        .file-input-label strong {
            color: #FEE715;
            font-weight: 500;
        }

        #fotoInput {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        #previewContainer {
            display: none;
            margin-top: 15px;
            text-align: center;
        }

        #preview {
            max-width: 100%;
            max-height: 300px;
            border-radius: 8px;
            border: 2px solid #FEE715;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .upload-btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, #5b15fe 0%, #FEE715 100%);
            border: none;
            border-radius: 8px;
            color: #101820;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            margin-top: 10px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .upload-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(91, 21, 254, 0.4);
        }

        .upload-btn i {
            font-size: 18px;
        }

        #statusMessage {
            text-align: center;
            margin-top: 20px;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
            display: none;
        }

        .success-message {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            border: 1px solid #2ecc71;
        }

        .error-message {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            border: 1px solid #e74c3c;
        }

        /* About Section */
        .students-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }

        .student-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 25px;
            transition: all 0.3s;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .student-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            border-color: rgba(254, 231, 21, 0.3);
        }

        .student-photo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 15px;
            display: block;
            border: 3px solid #FEE715;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .student-info h3 {
            color: #FEE715;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .student-info p {
            color: #aaa;
            font-size: 0.85rem;
            margin-bottom: 5px;
            line-height: 1.5;
        }

        /* Contact Section */
        .social-cards-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
            align-items: flex-start;
        }

        .social-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            flex: 1;
            min-width: 300px;
            max-width: 800px;
        }

        .social-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(254, 231, 21, 0.1);
        }

        .social-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.08);
        }

        .social-header {
            position: relative;
            margin-bottom: 20px;
        }

        .social-logo {
            font-size: 2.5rem;
            position: relative;
            z-index: 2;
        }

        .social-bubble {
            position: absolute;
            width: 50px;
            height: 50px;
            background: rgba(254, 231, 21, 0.1);
            border-radius: 50%;
            top: -15px;
            left: -15px;
            z-index: 1;
        }

        .social-username {
            color: #FEE715;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .social-desc {
            color: #aaa;
            margin-bottom: 20px;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .social-link {
            display: inline-flex;
            align-items: center;
            color: #FEE715;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .social-link i {
            margin-left: 5px;
            transition: transform 0.3s ease;
        }

        .social-link:hover i {
            transform: translateX(3px);
        }

        .developer-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 300px;
            border: 1px solid rgba(254, 231, 21, 0.1);
            position: relative;
        }

        .developer-photo-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin-bottom: 20px;
        }

        .developer-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            position: relative;
            z-index: 2;
        }

        .photo-frame {
            position: absolute;
            width: 110%;
            height: 110%;
            border: 2px solid #FEE715;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
        }

        .instagram-badge {
            position: absolute;
            bottom: 0;
            right: 0;
            background: linear-gradient(45deg, #405DE6, #5851DB, #833AB4, #C13584, #E1306C, #FD1D1D);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3;
        }

        .instagram-badge i {
            color: white;
            font-size: 1.2rem;
        }

        .developer-info {
            text-align: center;
        }

        .developer-info h3 {
            color: #FEE715;
            margin-bottom: 5px;
            font-size: 1.3rem;
        }

        .developer-name {
            color: white;
            font-weight: 500;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .developer-role {
            color: #aaa;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .developer-instagram {
            display: inline-flex;
            align-items: center;
            color: #FEE715;
            text-decoration: none;
            padding: 8px 15px;
            background: rgba(254, 231, 21, 0.1);
            border-radius: 20px;
            transition: all 0.3s ease;
        }

        .developer-instagram i {
            margin-right: 5px;
        }

        .developer-instagram:hover {
            background: rgba(254, 231, 21, 0.2);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .modal.show {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }

        .modal-img {
            max-width: 100%;
            max-height: 80vh;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 40px;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1001;
        }

        .close-modal:hover {
            color: #FEE715;
            transform: rotate(90deg);
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .section {
                padding: 100px 8% 40px;
            }
            
            .upload-section {
                padding: 40px 8%;
            }
            
            .students-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                padding: 12px 5%;
                text-align: center;
            }
            
            .navbar {
                margin-top: 15px;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .navbar a {
                margin: 0 10px 5px;
                font-size: 14px;
            }
            
            .section {
                padding: 90px 5% 30px;
            }
            
            .section-title h1 {
                font-size: 2rem;
            }
            
            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
                gap: 15px;
            }
            
            .memory-img-container {
                height: 200px;
            }
            
            .students-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .student-card {
                padding: 20px;
            }
            
            .student-photo {
                width: 80px;
                height: 80px;
            }
            
            .upload-section {
                padding: 30px 5%;
                margin: 30px 0;
            }
            
            .form-control {
                padding: 14px 12px;
                font-size: 16px;
            }
            
            .file-input-label {
                padding: 20px;
            }
            
            .social-cards {
                grid-template-columns: 1fr;
            }
            
            .social-cards-container {
                flex-direction: column;
                align-items: center;
            }
            
            .developer-card {
                margin-top: 30px;
                max-width: 100%;
            }
        }

        @media (max-width: 480px) {
            .section {
                padding: 80px 5% 20px;
            }
            
            .section-title h1 {
                font-size: 1.8rem;
            }
            
            .section-title p {
                font-size: 0.9rem;
            }
            
            .filter-buttons {
                gap: 8px;
            }
            
            .filter-btn {
                padding: 6px 12px;
                font-size: 12px;
            }
            
            .gallery {
                grid-template-columns: 1fr;
            }
            
            .students-container {
                grid-template-columns: 1fr;
            }
            
            .student-card {
                padding: 15px;
            }
            
            .upload-btn {
                width: 100%;
                padding: 14px;
            }
            
            .modal-img {
                max-height: 60vh;
            }
            
            .close-modal {
                font-size: 30px;
                top: 15px;
                right: 15px;
            }
            
            body {
                font-size: 15px;
            }
        }

        /* Touch Feedback */
        .filter-btn:active,
        .upload-btn:active,
        .social-link:active,
        .memory-card:active {
            transform: scale(0.95);
            opacity: 0.9;
        }

        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <!-- Header dengan Logo -->
    <header class="header">
        <div class="logo-container">
            <img src="images/logokelas.jpg" alt="Logo Kelas" class="logo-img">
            <a href="#" class="logo">XII IPA 1</a>
        </div>
        <nav class="navbar">
            <a href="#home">Home</a>
            <a href="#gallery">Galeri</a>
            <a href="#upload">Upload</a>
            <a href="#about">Tentang</a>
            <a href="#contact">Kontak</a>
        </nav>
    </header>

    <!-- Home Section -->
    <section id="home" class="section">
        <div class="section-title">
            <h1>Kenangan Kelas</h1>
            <p>Website kenangan kelas XII IPA 1 SMA Negeri 1 Grati angkatan 2023/2024</p>
        </div>
        <div style="text-align: center; margin-top: 50px;">
            <div style="max-width: 800px; margin: 0 auto;">
                <img src="images/fotbar_wisuda.jpg" alt="Foto Wisuda Kelas" style="width: 100%; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
            </div>
            <p style="margin-top: 30px; max-width: 800px; margin-left: auto; margin-right: auto;">
                Selamat datang di website kenangan kami, kelas XII IPA 1 SMA Negeri 1 Grati. 
                Berisi kumpulan momen berharga selama kami belajar bersama. Mari kita lestarikan kenangan indah ini!
            </p>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="section">
        <div class="section-title">
            <h1>Galeri Kenangan</h1>
            <p>Kumpulan momen berharga selama masa sekolah bersama teman-teman kelas XII IPA 1</p>
        </div>

        <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">Semua</button>
            <button class="filter-btn" data-filter="study-tour">Study Tour</button>
            <button class="filter-btn" data-filter="praktikum">Praktikum</button>
            <button class="filter-btn" data-filter="wisuda">Wisuda</button>
            <button class="filter-btn" data-filter="harian">Harian</button>
            <button class="filter-btn" data-filter="acara-khusus">Acara Khusus</button>
        </div>

        <div class="gallery" id="galleryContainer">
            <!-- Memory 1 -->
            <div class="memory-card show" data-category="wisuda">
                <div class="memory-img-container">
                    <img src="images/fotbar_wisuda.jpg" class="memory-img" alt="Wisuda Kelas">
                </div>
                <div class="memory-caption">
                    <h3>Wisuda Kelas XII</h3>
                    <p>Momen wisuda angkatan 2023/2024</p>
                </div>
            </div>

            <!-- Memory 2 -->
            <div class="memory-card show" data-category="praktikum">
                <div class="memory-img-container">
                    <img src="images/praktikum_prakarya_kelas_12.jpg" class="memory-img" alt="Praktikum Prakarya">
                </div>
                <div class="memory-caption">
                    <h3>Praktikum Prakarya Kelas 12</h3>
                    <p>Praktikum membuat Makanan</p>
                </div>
            </div>

            <!-- Memory 3 -->
            <div class="memory-card show" data-category="study-tour">
                <div class="memory-img-container">
                    <img src="images/StudyTour.jpeg" class="memory-img" alt="Study Tour ke Bali">
                </div>
                <div class="memory-caption">
                    <h3>Study Tour ke Bali</h3>
                    <p>Kunjungan edukasi ke berbagai tempat wisata di Pulau Dewata</p>
                </div>
            </div>

            <!-- Memory 5 -->
            <div class="memory-card show" data-category="harian">
                <div class="memory-img-container">
                    <img src="images/Paknasir.jpeg" class="memory-img" alt="Kegiatan Harian">
                </div>
                <div class="memory-caption">
                    <h3>Kegiatan Harian</h3>
                    <p>Belajar bersama di kelas dengan suasana yang menyenangkan</p>
                </div>
            </div>

            <!-- Memory 6 -->
            <div class="memory-card show" data-category="praktikum">
                <div class="memory-img-container">
                    <img src="images/praktikum_kimia.jpg" class="memory-img" alt="Praktikum Biologi">
                </div>
                <div class="memory-caption">
                    <h3>Praktikum Kimia</h3>
                    <p>Praktikum experiment Asam</p>
                </div>
            </div>
            <div class="memory-card show" data-category="praktikum">
                <div class="memory-img-container">
                    <img src="images/praktikum_prakarya_pak_amin.jpg" class="memory-img" alt="Praktikum Biologi">
                </div>
                <div class="memory-caption">
                    <h3>Praktikum Prakarya</h3>
                    <p>Praktikum masak memasak</p>
                </div>
            </div>
        </div>
    </section>

     <!-- Upload Section (dengan preview gambar base64) -->
  <section id="upload" class="upload-section">
    <div class="section-title">
      <h1>Bagikan Kenanganmu</h1>
      <p>Upload foto kenangan kelas untuk ditambahkan ke galeri bersama</p>
    </div>

    <div class="upload-container">
      <form id="uploadForm" class="upload-form">
        <div class="form-group">
          <label for="nama">Judul Kenanganmu</label>
          <input type="text" id="nama" class="form-control" required />
        </div>

        <div class="form-group">
          <label for="keterangan">Keterangan Foto</label>
          <textarea id="keterangan" class="form-control" required></textarea>
        </div>

        <div class="form-group">
          <label for="kategori">Kategori</label>
          <select id="kategori" class="form-control" required>
            <option value="">Pilih Kategori</option>
            <option value="study-tour">Study Tour</option>
            <option value="praktikum">Praktikum</option>
            <option value="wisuda">Wisuda</option>
            <option value="harian">Kegiatan Harian</option>
            <option value="acara-khusus">Acara Khusus</option>
          </select>
        </div>

        <div class="form-group">
          <label>Upload Foto</label>
          <div class="file-input-container" style="margin-bottom: 20px;">
            <label class="file-input-label" for="fotoInput">
              <i class='bx bx-cloud-upload'></i>
              <span>Seret & lepas foto di sini atau <strong>klik untuk memilih</strong></span>
              <span>Format: JPG, PNG (Maks. 5MB)</span>
            </label>
            <input type="file" id="fotoInput" accept="image/jpeg, image/png" required />
          </div>
          <div id="previewContainer">
            <img id="preview" alt="Pratinjau Foto" />
          </div>
        </div>

        <button type="submit" class="upload-btn">
          <i class='bx bx-upload'></i> Upload Kenangan
        </button>
      </form>
      <div id="statusMessage"></div>
    </div>
  </section>

  <!-- About Section -->
<section id="about" class="section">
    <div class="section-title">
        <h1>Profil Kelas</h1>
        <p>Informasi tentang kelas XII IPA 1 angkatan 2023/2024</p>
    </div>

   <!-- Struktur Kelas -->
<div style="margin-bottom: 50px;">
    <h2 style="text-align: center; color: #FEE715; margin-bottom: 30px; font-size: 1.8rem;">Struktur Kelas XII IPA 1</h2>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 40px;">
        <!-- Wali Kelas (Horizontal) -->
        <div style="background: rgba(255,255,255,0.05); border-radius: 8px; padding: 15px; border: 1px solid rgba(254, 231, 21, 0.2); display: flex; align-items: center; min-height: 100px;">
            <div style="flex: 0 0 80px; text-align: center; border-right: 1px dashed rgba(254, 231, 21, 0.3); padding-right: 15px;">
                <h3 style="color: #FEE715; margin: 0; font-size: 1.1em;">Wali Kelas</h3>
            </div>
            <div style="flex: 1; padding-left: 15px;">
                <p style="color: #aaa; margin: 5px 0; font-size: 0.9em;"><strong>Nama:</strong> Mrs. Yuni Ningtyas, S.Pd</p>
                <p style="color: #aaa; margin: 5px 0; font-size: 0.9em;"><strong>Mata Pelajaran:</strong> Bahasa Jawa</p>
            </div>
        </div>
    </div>
        
    <!-- Daftar Anggota Kelas - Horizontal Scroll -->
    <div style="background: rgba(255,255,255,0.05); border-radius: 10px; padding: 20px; margin-bottom: 30px;">
        <h3 style="color: #FEE715; margin-bottom: 15px; text-align: center;">Daftar Anggota Kelas</h3>
        <div style="display: flex; overflow-x: auto; gap: 10px; padding-bottom: 10px; scrollbar-width: thin; scrollbar-color: #FEE715 rgba(255,255,255,0.1);">
            <!-- Semua Anggota Kelas -->
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">1. Ahmad Nazarudin</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">2. Alvi Hikmah Ramadani</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">3. Anggy Jogo Kurniawan</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">4. Aulia Safitri</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">5. Azza Kusuma Wardani</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">6. Dini Amalyah Azka F.</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">7. Dona Dwi Wulandari</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">8. Elmas Khusnurohmah</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">9. Farah Nafisha</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">10. Farissa Kevin Arif P</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">11. Feri Irawan</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">12. Henri Putra Mandiri</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">13. Hisyam Fadiga</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">14. Jovita Selvi Ramadhita</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">15. KGS Aziz Muzakki</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">16. M Rosyid Ramadhan P</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">17. M Ageng Pangestu Rofiqi</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">18. M Zidan Fachrul Fanani</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">19. Madina Wakhidatul Ilmia</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">20. Mahfud Syahfrudin W</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">21. Meylani E. Az Zahra</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">22. Muhammad Iqbal Habibi</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">23. Nadhifa</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">24. Naila Salsabilah Putri</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">25. Naufal Nur Fakhri S</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">26. Randika Tri Kusuma W</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">27. Rizki Auliah</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">28. Saffana Putra Akbar</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">29. Safiudin Makmun</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">30. Saila Rizqiyah</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">31. Salsa Inayah Choiriyah</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">32. Sirfaratih</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">33. Tutik Wulandari</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">34. Usha Bevania Ramadhani</p>
            </div>
            <div style="flex: 0 0 auto; padding: 8px 12px; background: rgba(16,24,32,0.5); border-radius: 5px; white-space: nowrap;">
                <p style="color: #fff; margin: 0;">35. Yeni Malikhatus S</p>
            </div>
        </div>
    </div>
</div>
<!-- Profil Anggota Kelas dalam 3 Kolom -->
<div class="section-title">
    <h1>Profil Anggota</h1>
    <p>Profil anggota kelas XII IPA 1</p>
</div>

<div class="students-container" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
    <!-- Baris 1 -->
    <div class="student-card">
        <img src="images/Udin.jpeg" alt="Ahmad Nazarudin" class="student-photo">
        <div class="student-info">
            <h3>Ahmad Nazarudin</h3>
            <p><strong>TL:</strong> [15 MEI 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Alvi.jpeg" alt="Alvi Hikmah Ramadani" class="student-photo">
        <div class="student-info">
            <h3>Alvi Hikmah Ramadani</h3>
            <p><strong>TL:</strong> [14 OKTOBER 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/anggy.jpeg" alt="Anggy Jogo Kurniawan" class="student-photo">
        <div class="student-info">
            <h3>Anggy Jogo Kurniawan</h3>
            <p><strong>TL:</strong> [26 APRIL 2006]</p>
        </div>
    </div>
    
    <!-- Baris 2 -->
    <div class="student-card">
        <img src="images/Aulia2.jpeg" alt="Aulia Safitri" class="student-photo">
        <div class="student-info">
            <h3>Aulia Safitri</h3>
            <p><strong>TL:</strong> [13 JUNI 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Acha.jpeg" alt="Azza Kusuma Wardani" class="student-photo">
        <div class="student-info">
            <h3>Azza Kusuma Wardani</h3>
            <p><strong>TL:</strong> [8 JUNI 2006]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Dini.jpeg" alt="Dini Amalyah Azka Fillah" class="student-photo">
        <div class="student-info">
            <h3>Dini Amalyah Azka Fillah</h3>
            <p><strong>TL:</strong> [1 SEMTEMBER 2005]</p>
        </div>
    </div>
    
    <!-- Baris 3 -->
    <div class="student-card">
        <img src="images/Dona.jpeg" alt="Dona Dwi Wulandari" class="student-photo">
        <div class="student-info">
            <h3>Dona Dwi Wulandari</h3>
            <p><strong>TL:</strong> [17 APRIL 2006]]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Elmas.jpeg" alt="Elmas Khusnurohmah" class="student-photo">
        <div class="student-info">
            <h3>Elmas Khusnurohmah</h3>
            <p><strong>TL:</strong> [31 OKTOBER 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Farah.jpeg" alt="Farah Nafisha Azzahra" class="student-photo">
        <div class="student-info">
            <h3>Farah Nafisha Azzahra</h3>
            <p><strong>TL:</strong> [25 JULI 2006]</p>
        </div>
    </div>
    <div class="student-card">
        <img src="images/Kevin.jpeg" alt="Farissa Kevin Arif P" class="student-photo">
        <div class="student-info">
            <h3>Farissa Kevin Arif P</h3>
            <p><strong>TL:</strong> [4 OKTOBER 2006]</p>
        </div>
    </div>

    <div class="student-card">
        <img src="images/Feri.jpg" alt="Feri Irawan" class="student-photo">
        <div class="student-info">
            <h3>Feri Irawan</h3>
            <p><strong>TL:</strong> [30 MARET 2005]</p>
        </div>
    </div>
    
    <!-- Baris 4 -->
    <div class="student-card">
        <img src="images/Putra.jpeg" alt="Henri Putra Mandiri" class="student-photo">
        <div class="student-info">
            <h3>Henri Putra Mandiri</h3>
            <p><strong>TL:</strong> [14 MEI 2006]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Hisyam.jpeg" alt="Hisyam Fadiga" class="student-photo">
        <div class="student-info">
            <h3>Hisyam Fadiga</h3>
            <p><strong>TL:</strong> [22 FEBRUARI 2006]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Dhita.jpeg" alt="Jovita Selvi Ramadhita" class="student-photo">
        <div class="student-info">
            <h3>Jovita Selvi Ramadhita</h3>
            <p><strong>TL:</strong> [13 OKTOBER 2006]</p>
        </div>
    </div>
    
    <!-- Baris 5 -->
    <div class="student-card">
        <img src="images/Aziz.jpeg" alt="KGS Aziz Muzakki" class="student-photo">
        <div class="student-info">
            <h3>KGS Aziz Muzakki</h3>
            <p><strong>TL:</strong> [11 JULI 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Rama.jpeg" alt="M Rosyid Ramadhan P.A" class="student-photo">
        <div class="student-info">
            <h3>M Rosyid Ramadhan P.A</h3>
            <p><strong>TL:</strong> [4 OKTOBER 2006]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Fiki.jpeg" alt="M Ageng Pangestu Rofiqi" class="student-photo">
        <div class="student-info">
            <h3>M Ageng Pangestu Rofiqi</h3>
            <p><strong>TL:</strong> [17 JANUARI 2005]</p>
        </div>
    </div>
    
    <!-- Baris 6 -->
    <div class="student-card">
        <img src="images/Zidan.jpeg" alt="M Zidan Fachrul Fanani" class="student-photo">
        <div class="student-info">
            <h3>M Zidan Fachrul Fanani</h3>
            <p><strong>TL:</strong> [28 NOVEMBER 2004]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Madina.jpeg" alt="Madina Wakhidatul Ilmia" class="student-photo">
        <div class="student-info">
            <h3>Madina Wakhidatul Ilmia</h3>
            <p><strong>TL:</strong> [17 JUNI 2006]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Wibi.jpeg" alt="Mahfud Syahfrudin W" class="student-photo">
        <div class="student-info">
            <h3>Mahfud Syahfrudin W</h3>
            <p><strong>TL:</strong> [18 FEBRUARI 2006]</p>
        </div>
    </div>
    
    <!-- Baris 7 -->
    <div class="student-card">
        <img src="images/Meylani.jpeg" alt="Meylani E. Az Zahra" class="student-photo">
        <div class="student-info">
            <h3>Meylani E. Az Zahra</h3>
            <p><strong>TL:</strong> [30 MEI 2006]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Habibi.jpeg" alt="M Iqbal Habibi" class="student-photo">
        <div class="student-info">
            <h3>M Iqbal Habibi</h3>
            <p><strong>TL:</strong> [5 NOVEMBER 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Nadifa.jpeg" alt="Nadhifa" class="student-photo">
        <div class="student-info">
            <h3>Nadhifa</h3>
            <p><strong>TL:</strong> [17 MEI 2006]</p>
        </div>
    </div>
    
    <!-- Baris 8 -->
    <div class="student-card">
        <img src="images/Naila.jpeg" alt="Naila Salsabilah Putri" class="student-photo">
        <div class="student-info">
            <h3>Naila Salsabilah Putri</h3>
            <p><strong>TL:</strong> [14 SEPTEMBER 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Naufal.jpeg" alt="Naufal Nur Fakhri S" class="student-photo">
        <div class="student-info">
            <h3>Naufal Nur Fakhri S</h3>
            <p><strong>TL:</strong> [17 DESEMBER 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Randi.jpeg" alt="Randika Tri Kusuma W" class="student-photo">
        <div class="student-info">
            <h3>Randika Tri Kusuma W</h3>
            <p><strong>TL:</strong> [28 APRIL 2006]</p>
        </div>
    </div>
    
    <!-- Baris 9 -->
    <div class="student-card">
        <img src="images/Rizki.jpeg" alt="Rizki Auliah" class="student-photo">
        <div class="student-info">
            <h3>Rizki Auliah</h3>
            <p><strong>TL:</strong> [26 MARET 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Apan2.jpeg" alt="Saffana Putra Akbar" class="student-photo">
        <div class="student-info">
            <h3>Saffana Putra Akbar</h3>
            <p><strong>TL:</strong> [7 JANUARI 2006]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Safik.jpeg" alt="Safiudin Makmun" class="student-photo">
        <div class="student-info">
            <h3>Safiudin Makmun</h3>
            <p><strong>TL:</strong> [4 FEBRUARI 2006]</p>
        </div>
    </div>
    
    <!-- Baris 10 -->
    <div class="student-card">
        <img src="images/Saila.jpeg" alt="Saila Rizqiyah" class="student-photo">
        <div class="student-info">
            <h3>Saila Rizqiyah</h3>
            <p><strong>TL:</strong> [24 JANUARI 2006]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Salsa.jpeg" alt="Salsa Inayah Choiriyah" class="student-photo">
        <div class="student-info">
            <h3>Salsa Inayah Choiriyah</h3>
            <p><strong>TL:</strong> [9 DESEMBER 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Sirfa.jpeg" alt="Sirfaratih" class="student-photo">
        <div class="student-info">
            <h3>Sirfaratih</h3>
            <p><strong>TL:</strong> [22 JUNI 2006]</p>
        </div>
    </div>
    
    <!-- Baris 11 -->
    <div class="student-card">
        <img src="images/Tutik.jpeg" alt="Tutik Wulandari" class="student-photo">
        <div class="student-info">
            <h3>Tutik Wulandari</h3>
            <p><strong>TL:</strong> [28 SEPTEMBER 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Vani.jpeg" alt="Usha Bevania Ramadhani" class="student-photo">
        <div class="student-info">
            <h3>Usha Bevania Ramadhani</h3>
            <p><strong>TL:</strong> [18 OKTOBER 2005]</p>
        </div>
    </div>
    
    <div class="student-card">
        <img src="images/Yeni.jpeg" alt="Yeni Malikhatus S" class="student-photo">
        <div class="student-info">
            <h3>Yeni Malikhatus S</h3>
            <p><strong>TL:</strong> [13 MARET 2006]</p>
        </div>
    </div>
</div>
</section>

   <!-- Contact Section -->
<section id="contact" class="section">
    <div class="section-title">
        <h1>Media Sosial AioneClass & Developer</h1>
        <p>Tetap terhubung dengan kami melalui berbagai platform</p>
    </div>

    <div class="social-cards-container">
        <!-- Social Media Cards -->
        <div class="social-cards">
            <div class="social-card instagram">
                <div class="social-header">
                    <i class='bx bxl-instagram social-logo'></i>
                    <div class="social-bubble"></div>
                </div>
                <h2 class="social-username">@aioneclass</h2>
                <p class="social-desc">Follow untuk update kegiatan terbaru dan foto-foto kenangan kelas</p>
                <a href="https://instagram.com/aioneclass" class="social-link" target="_blank">
                    <span>Follow</span>
                    <i class='bx bx-right-arrow-alt'></i>
                </a>
            </div>

            <div class="social-card tiktok">
                <div class="social-header">
                    <i class='bx bxl-tiktok social-logo'></i>
                    <div class="social-bubble"></div>
                </div>
                <h2 class="social-username">@aioneclasss</h2>
                <p class="social-desc">Tonton video-video seru kami di TikTok</p>
                <a href="https://tiktok.com/@aioneclasss" class="social-link" target="_blank">
                    <span>Follow</span>
                    <i class='bx bx-right-arrow-alt'></i>
                </a>
            </div>

            <div class="social-card youtube">
                <div class="social-header">
                    <i class='bx bxl-youtube social-logo'></i>
                    <div class="social-bubble"></div>
                </div>
                <h2 class="social-username">XII IPA 1</h2>
                <p class="social-desc">Subscribe untuk video lengkap acara-acara kelas</p>
                <a href="https://youtube.com/@aioneclass" class="social-link" target="_blank">
                    <span>Subscribe</span>
                    <i class='bx bx-right-arrow-alt'></i>
                </a>
            </div>
        </div>

        <!-- Developer Profile Card -->
        <div class="developer-card">
            <div class="developer-photo-container">
                <img src="images/gw.jpeg" alt="Developer" class="developer-photo">
                <div class="photo-frame"></div>
                <div class="instagram-badge">
                    <i class='bx bxl-instagram'></i>
                </div>
            </div>
            <div class="developer-info">
                <h3>Author Website</h3>
                <p class="developer-name">Anggy Jogo Kurniawan</p>
                <p class="developer-role">Web Designer & Developer</p>
                <a href="https://instagram.com/zyknwn_" class="developer-instagram" target="_blank">
                    <i class='bx bxl-instagram'></i>
                    @zyknwn_
                </a>
            </div>
        </div>
    </div>
</section>

    <!-- Image Modal -->
  <div class="modal" id="imageModal">
    <span class="close-modal">&times;</span>
    <div class="modal-content">
      <img class="modal-img" id="modalImage" alt="Foto Kenangan" />
    </div>
  </div>

  <!-- SCRIPT MODULE -->
  <script type="module">
    import { database } from './firebase-config.js';
    import { ref, push, set, onChildAdded } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";

    const galleryContainer = document.getElementById('galleryContainer');

    // Handle image preview
    document.getElementById('fotoInput').addEventListener('change', function(e) {
      const file = e.target.files[0];
      const previewContainer = document.getElementById('previewContainer');
      const preview = document.getElementById('preview');

      if (file && file.size <= 5 * 1024 * 1024) { // 5MB max
        const reader = new FileReader();
        reader.onload = function(e) {
          preview.src = e.target.result;
          previewContainer.style.display = 'block';
        };
        reader.readAsDataURL(file);
      } else if (file) {
        alert('Ukuran file terlalu besar. Maksimal 5MB.');
        this.value = '';
      }
    });

    // Handle form submission
    document.getElementById('uploadForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const nama = document.getElementById('nama').value.trim();
      const keterangan = document.getElementById('keterangan').value.trim();
      const kategori = document.getElementById('kategori').value;
      const file = document.getElementById('fotoInput').files[0];
      const statusMessage = document.getElementById('statusMessage');

      // Validate form
      if (!nama || !keterangan || !kategori || !file) {
        statusMessage.className = 'error-message';
        statusMessage.textContent = 'Harap isi semua field!';
        statusMessage.style.display = 'block';
        return;
      }

      if (file.size > 5 * 1024 * 1024) {
        statusMessage.className = 'error-message';
        statusMessage.textContent = 'Ukuran file terlalu besar. Maksimal 5MB!';
        statusMessage.style.display = 'block';
        return;
      }

      const reader = new FileReader();
      reader.onload = function(evt) {
        const base64Image = evt.target.result;

        const galeriRef = ref(database, 'galeri');
        const newEntryRef = push(galeriRef);

        set(newEntryRef, {
          nama,
          keterangan,
          kategori,
          imageBase64: base64Image,
          timestamp: Date.now()
        }).then(() => {
          statusMessage.className = 'success-message';
          statusMessage.textContent = 'Foto berhasil diupload dan disimpan!';
          statusMessage.style.display = 'block';
          document.getElementById('uploadForm').reset();
          document.getElementById('previewContainer').style.display = 'none';
          
          // Hide message after 5 seconds
          setTimeout(() => {
            statusMessage.style.display = 'none';
          }, 5000);
        }).catch((error) => {
          statusMessage.className = 'error-message';
          statusMessage.textContent = 'Gagal menyimpan ke database: ' + error.message;
          statusMessage.style.display = 'block';
        });
      };
      reader.readAsDataURL(file);
    });

    // Filter gallery items
    function updateFilterButtons() {
      const activeFilter = document.querySelector('.filter-btn.active')?.dataset.filter || 'all';
      const cards = document.querySelectorAll('.memory-card');

      cards.forEach(card => {
        const show = (activeFilter === 'all' || card.dataset.category === activeFilter);
        card.style.display = show ? 'block' : 'none';
      });
    }

    // Add click event to filter buttons
    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', function () {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        updateFilterButtons();
      });
    });

    // Load gallery items from Firebase
    const galeriRef = ref(database, 'galeri');

    onChildAdded(galeriRef, (data) => {
      const entry = data.val();

      const card = document.createElement('div');
      card.className = 'memory-card show';
      card.setAttribute('data-category', entry.kategori);

      card.innerHTML = `
        <div class="memory-img-container">
          <img src="${entry.imageBase64}" class="memory-img" alt="${entry.keterangan}">
        </div>
        <div class="memory-caption">
          <h3>${entry.nama}</h3>
          <p>${entry.keterangan}</p>
        </div>
      `;

      // Add click event to open modal
      const img = card.querySelector('.memory-img');
      img.addEventListener('click', function() {
        document.getElementById('modalImage').src = this.src;
        document.getElementById('imageModal').classList.add('show');
      });
      
      // Add touch event for mobile
      img.addEventListener('touchend', function(e) {
        e.preventDefault();
        document.getElementById('modalImage').src = this.src;
        document.getElementById('imageModal').classList.add('show');
      });

      galleryContainer.appendChild(card);
      updateFilterButtons();
    });

    // Close modal
    document.querySelector('.close-modal').addEventListener('click', function() {
      document.getElementById('imageModal').classList.remove('show');
    });
    
    // Close modal on touch for mobile
    document.querySelector('.close-modal').addEventListener('touchend', function(e) {
      e.preventDefault();
      document.getElementById('imageModal').classList.remove('show');
    });

    // Close modal when clicking outside
    document.getElementById('imageModal').addEventListener('click', function(e) {
      if (e.target === this) {
        this.classList.remove('show');
      }
    });
    
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 80,
            behavior: 'smooth'
          });
        }
      });
    });
  </script>
</body>
</html>